webpackJsonp([1,0],[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var a=o(62),i=n(a),r=o(52),s=n(r);new i["default"]({el:"body",components:{App:s["default"]}})},,,,,,,function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,o){var n,a=[];if(e.length!==t.length)throw"A isn't match E";var i,r=e.length;for(i=0;i<r;i++)n=e[i]*Math.exp(1e3*-t[i]/(v*o)),a.push(n);return a}function i(e,t){var o,n=e.T,a=t.T,i=e.k,r=t.k,s=[],c=[],u=i.length;for(o=0;o<u;o++)c[o]=v*Math.log(r[o]/i[o])/(1/n-1/a);for(o=0;o<u;o++)s[o]=i[o]/Math.exp(-c[o]/v/n);return{A:s,E:c}}function r(e){for(var t=[],o=0,n=e.length;o<n;o++)t.push({name:e[o],key:o,value:""});return t}Object.defineProperty(t,"__esModule",{value:!0}),t.ACTIVE_LUMPS=t.LUMPS=t.UNIVERSAL_GAS_CONSTANT=t.InitCondition=t.calculateAE=t.calculateArrhenius=t.LumpedModel=void 0;var s=o(18),c=n(s),u=o(19),l=n(u),d=o(40),p=n(d),f=function(){function e(t,o,n,a){(0,c["default"])(this,e),n=n||{},a=a||{},this.isFittingK=!!a.isFittingK,this.yStart=t,this.yActual=o,this.temperature=n.temperature,this.pressure=n.pressure,this.residenceTime=n.residenceTime,this.NPercent=n.NPercent,this.catalystOilRatio=n.catalystOilRatio,this.params=[],this.k=[]}return(0,l["default"])(e,[{key:"derives",value:function(e,t){var o=this,n=o.params,i=n.length-3,r=[],s=[],c=[],u=[],l=n.slice(i);o.isFittingK?s=n.slice(0,i):(u=n.slice(0,i/2),c=n.slice(i/2,i),s=a(u,c,o.temperature)),o.k=s,r[0]=-(s[0]+s[1]+s[2]+s[3]+s[4]+s[5]+s[6]+s[7]+s[8])*t[0],r[1]=-(s[9]+s[10]+s[11]+s[12]+s[13]+s[14]+s[15]+s[16]+s[17])*t[1],r[2]=-(s[18]+s[19]+s[20]+s[21]+s[22]+s[23]+s[24]+s[25]+s[26])*t[2],r[3]=s[0]*t[0]+s[9]*t[1]+s[18]*t[2]-(s[27]+s[28]+s[29]+s[30]+s[31]+s[32]+s[33]+s[34])*t[3],r[4]=s[1]*t[0]+s[10]*t[1]+s[19]*t[2]+s[27]*t[3]+s[42]*t[5]-(s[35]+s[36]+s[37]+s[38]+s[39]+s[40]+s[41])*t[4],r[5]=s[2]*t[0]+s[11]*t[1]+s[20]*t[2]+s[28]*t[3]+s[35]*t[4]-(s[42]+s[43]+s[44]+s[45]+s[46]+s[47]+s[48])*t[5],r[6]=s[3]*t[0]+s[12]*t[1]+s[21]*t[2]+s[29]*t[3]+s[36]*t[4]+s[43]*t[5]-(s[49]+s[50]+s[51]+s[52]+s[53])*t[6],r[7]=s[4]*t[0]+s[13]*t[1]+s[22]*t[2]+s[30]*t[3]+s[37]*t[4]+s[44]*t[5]+s[49]*t[6],r[8]=s[5]*t[0]+s[14]*t[1]+s[23]*t[2]+s[31]*t[3]+s[38]*t[4]+s[45]*t[5]+s[50]*t[6],r[9]=s[6]*t[0]+s[15]*t[1]+s[24]*t[2]+s[32]*t[3]+s[39]*t[4]+s[46]*t[5]+s[51]*t[6],r[10]=s[7]*t[0]+s[16]*t[1]+s[25]*t[2]+s[33]*t[3]+s[40]*t[4]+s[47]*t[5]+s[52]*t[6],r[11]=s[8]*t[0]+s[17]*t[1]+s[26]*t[2]+s[34]*t[3]+s[41]*t[4]+s[48]*t[5]+s[53]*t[6];for(var d=1/(1+l[0]*t[1]/100),p=Math.exp(-l[1]*o.residenceTime),f=1/(1+l[2]*o.NPercent/o.catalystOilRatio),m=1/(o.residenceTime*o.catalystOilRatio),h=1/(t[0]/.43+t[1]/.43+t[2]/.43+t[3]/.2+t[4]/.1+t[5]/.1+t[6]/.1+t[7]/.04+t[8]/.04+t[9]/.04+t[10]/.04+t[11]/.018),x=0;x<r.length;x++)r[x]=d*p*f*r[x]*h*o.pressure/(v*o.temperature*m);return r}},{key:"objectiveFn",value:function(e){for(var t=this,o=0,n=e.length;o<n;o++)t.params[o]=Math.abs(e[o]);var o,a=t.yActual,i=t.getProduct(),n=a.length,r=0;for(o=0;o<n;o++)r+=(a[o]-i[o])*(a[o]-i[o]);return r}},{key:"getProduct",value:function(){for(var e=this,t=[],o=0,n=e.yStart.length;o<n;o++)t[o]=e.yStart[o];for(var a=function(t,o){return e.derives(t,o)},i=new p["default"](a,0,t,.01),o=0;o<100;o++)i.step();return i.y}}]),e}(),v=8.3144598,m=["HS","HA","HR","DIESEL","GS","GO","GA","DGAS","LO3","LO4","LPGD","COKE"],h=[[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!0,!1,!0,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1]],x=function b(){(0,c["default"])(this,b),this.operational=[{name:"操作温度(K)",key:"temperature",value:""},{name:"操作压力(Pa)",key:"pressure",value:""},{name:"剂油比",key:"catalystOilRatio",value:""},{name:"停留时间(s)",key:"residenceTime",value:""},{name:"碱氮含量",key:"NPercent",value:""}],this.feed=[{name:"HS",key:0,value:""},{name:"HA",key:1,value:""},{name:"HR",key:2,value:""}],this.product=r(m)};t.LumpedModel=f,t.calculateArrhenius=a,t.calculateAE=i,t.InitCondition=x,t.UNIVERSAL_GAS_CONSTANT=v,t.LUMPS=m,t.ACTIVE_LUMPS=h},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){for(var o=e.length,n=[],a=0;a<o;a++){n[a]={},n[a].lump=e[a],n[a].ks=[];for(var i=0;i<o;i++)n[a].ks[i]={value:"",isDisabled:!t[a][i]}}return n}Object.defineProperty(t,"__esModule",{value:!0});var r=o(39),s=a(r),c=o(60),u=a(c),l=o(59),d=a(l),p=o(58),f=a(p),v=o(61),m=a(v),h=o(53),x=(a(h),o(56)),b=(a(x),o(54)),_=(a(b),o(7)),y=n(_),g=o(63),A=a(g),M=void 0,k=function(){"undefined"==typeof M&&(M=new A["default"])};t["default"]={components:{LMHeader:u["default"],LMAside:f["default"],LMFooter:d["default"],LMInitCondition:m["default"]},data:function(){var e=this;return{firstTab:{name:"正算",isActive:!0},secondTab:{name:"反算",isActive:!1},modelSetting:{fittingMethod:"K",fittingNumber:1,add:function(){e.modelSetting.fittingNumber++,e.conditions.push(new y.InitCondition)},sub:function(){var t=e.modelSetting.fittingNumber-1;t<1?e.modelSetting.fittingNumber=1:(e.modelSetting.fittingNumber=t,e.conditions.pop())}},conditions:[new y.InitCondition],AETable:{caption:"初值设定",headers:["途径","指前因子","活化能"],kRows:[{name:"1 -> 4",A:"",E:""},{name:"1 -> 5",A:"",E:""},{name:"1 -> 6",A:"",E:""},{name:"1 -> 7",A:"",E:""},{name:"1 -> 8",A:"",E:""},{name:"1 -> 9",A:"",E:""},{name:"1 -> 10",A:"",E:""},{name:"1 -> 11",A:"",E:""},{name:"1 -> 12",A:"",E:""},{name:"1 -> 4",A:"",E:""},{name:"1 -> 4",A:"",E:""}]},kTable:{caption:"速率常数初值设置",headers:y.LUMPS,kMatrix:i(y.LUMPS,y.ACTIVE_LUMPS)},isCalculating:!1,lmConsole:{caption:"数学模型拟合过程",data:""},k:{807.15:[],797.15:[],787.15:[]},params:[],yCalcu:{1:[],2:[],3:[],4:[],5:[]},yActual:{1:[],2:[],3:[],4:[],5:[]}}},methods:{calculate:function(){var e=this;e.isCalculating=!0;var t=[48.1,47.2,4.7,0,0,0,0,0,0,0,0,0],o=[3.61,3.686,.304,14.2,15.38,14.38,14.32,2.23,9.64,10.59,4.15,7.51],n={temperature:807.15,pressure:175e3,residenceTime:3,NPercent:4e-4,catalystOilRatio:9.2},a=[48.1,47.2,4.7,0,0,0,0,0,0,0,0,0],i=[4.0375,4.1225,.34,15.3,18.05,14.74,12.7,1.37,8.37,9.58,4.37,7.01],r={temperature:787.15,pressure:175e3,residenceTime:3,NPercent:4e-4,catalystOilRatio:9.2};e.initGuessFittingParams=[26.323862525264236,309.07986327678253,387.3858001957765,219.10812266051664,2221.8420253556446,305.7916042963662,2221.9302201654923,2221.511634108338,6.680620142280736,16.84038445995668,960.5934277048681,815.1900776409183,400.9014674371774,9000.006248610196,8034.857629936584,8999.926827398805,8999.972512066512,16.44045105754445,6.884606096050719,105.76018554607474,121.25373481808212,75.54872157468003,26.74307726542151,33.70821469501424,28.01838066773411,28.033634483552618,4.601198339639468,324e5,2e7,588e5,24e5,258e4,24e5,24e5,29.98154494139616,450658.9940020465,206e12,329999.99827521964,19114.184916359744,329999.99982040667,330000.0069967139,171e8,1330.9066422485505,394.7841715927623,34e6,735e4,34e6,34e6,124e5,18000.005471944834,203e6,18000.001930308423,18000.00815951124,212e7,22.011592432942514,40.200870515263055,42.04854967805913,42.62948223961419,73.8564955011389,64.97550123089397,53.912920644014875,61.47435949408731,22.244677010323738,22.772642917047122,43.920321903707915,45.2299487407915,47.9755653580085,81.69736571649996,64.84863366986825,74.66344840928791,78.76587991692624,31.2885616971238,19.724257415214193,38.3964574573971,37.856310324570025,39.23215034977291,35.970330309192114,22.231147296149317,26.109434948646125,25.117397899549847,20.265677015794687,130.17948173204334,125.15910798112697,133.36535616925403,121.25311565061048,130.7628479013195,130.8371595127693,133.65426477926476,166.58781317795334,98.5567749080043,236.93085301484274,101.99043170372113,77.63993229246157,103.23942850062545,103.28868969059269,164.91062371970085,69.89736785616901,42.39554779326961,146.85326935839825,119.80543015224019,149.38020307796293,152.80467524052713,133.76488935814777,100.64662360125942,150.5957771312729,101.26545666543156,102.88287227996994,170.6852549392779,5e-8,4e-8,2e-8],k(),M.postMessage({type:"start",guess:e.initGuessFittingParams,target:[{yStart:t,yActual:o,operatingParams:n},{yStart:a,yActual:i,operatingParams:r}],termination:2});var s=function c(){setTimeout(function(){e.isCalculating&&c(),M?M.postMessage({type:"step"}):null},100)};s(),M.onmessage=function(t){var o=t.data;switch(e.lmConsole.data+=o.msg,o.type){case"start":break;case"done":break;case"end":dealData(o.result)}}},stopCalculate:function(){this.isCalculating=!1,M.terminate(),M=void 0,this.lmConsole.data+=" ------ 计算终止 ------ \r\n"},importFile:function(){var e=this,t=this.$el.getElementsByTagName("input")[0].files;t.length>0&&s["default"].parse(t[0],{complete:function(t){for(var o,n=t.data,a=e.initGuessFittingParams=[],i=54,o=0;o<i;o++)a[o]=Number(n[o][0]),a[o+i]=Number(n[o][0])}})},exportFile:function(){var e,t=this,o="807.15K,797.15K,787.15\r\n",n=t.k[807.15].length;for(e=0;e<n;e++)o+=t.k[807.15][e]+","+t.k[797.15][e]+","+t.k[787.15][e]+"\r\n";for(o+="\r\nParams\r\n",e=0,n=t.params.length;e<n;e++)o+=t.params[e]+"\r\n";for(e=1;e<6;e++){o+="第"+e+"组\r\n";for(var a=0;a<12;a++)o+=t.yActual[e][a]+","+t.yCalcu[e][a]+"\r\n"}var i=encodeURIComponent(o),r=document.createElement("a");r.href="data:attachment/csv;charset=utf-8,\ufeff"+i,r.download="KMatrix.csv",document.body.appendChild(r),r.click(),r.parentNode.removeChild(r)},downloadTemplate:function(){}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{caption:{type:String,required:!0},headers:{type:Array},kRows:{type:Array,required:!0}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={methods:{test:function(){console.log(this)}},watch:{data:function(e,t){var o=this.$el.getElementsByTagName("textarea")[0];o.scrollTop=o.scrollHeight-o.offsetHeight}},props:{caption:{type:String,required:!0},data:{type:String}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{caption:{type:String,required:!0},factors:{type:Array,required:!0}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{}},props:{caption:{type:String,required:!0},headers:{type:Array},kMatrix:{type:Array,required:!0}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={methods:{changeTab:function(e){this.tabs.forEach(function(e){e.isActive=!1}),e.isActive=!0}},props:{tabs:{type:Array,required:!0}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{isHiddenAside:!1}},methods:{changeAsideStatus:function(){this.isHiddenAside=!this.isHiddenAside}},props:{setting:{type:Object,required:!0}}}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(57),i=n(a);t["default"]={components:{NavTabs:i["default"]},data:function(){return{title:"重油催化裂化十二集总数学模型"}},props:{tabs:{type:Array,required:!0}}}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(55),i=n(a);t["default"]={components:{LMFactorsTable:i["default"]},data:function(){return{isShow:!0,operationalCaption:"操作条件",feedCaption:"进料组成",actualCaption:"实际产物"}},methods:{hidden:function(){this.isShow=!this.isShow}},props:{initCondition:{type:Object,required:!0},index:{type:Number}}}},,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t,o){e.exports=o.p+"static/img/ecust.dccb577.png"},function(e,t){e.exports=' <l-m-header :tabs="[firstTab, secondTab]"></l-m-header> <main> <div v-show=firstTab.isActive class=tabs> <l-m-aside :setting=modelSetting></l-m-aside> <l-m-init-condition v-for="condition in conditions" :init-condition=condition :index=$index> </l-m-init-condition> </div> <div v-show=secondTab.isActive class=tabs> </div> </main> <l-m-footer></l-m-footer> '},function(e,t){e.exports=' <table> <caption>{{ caption }}</caption> <thead> <tr> <th v-for="header in headers">{{ header }}</th> </tr> </thead> <tbody> <tr v-for="kRow in kRows"> <td>{{ kRow.name }}</td> <td><input v-model=kRow.A number></td> <td><input v-model=kRow.E number></td> </tr> </tbody> </table> '},function(e,t){e.exports=' <table> <caption>{{ caption }}</caption> <thead> <tr> <th></th> <th v-for="header in headers">{{ header }}</th> </tr> </thead> <tbody> <tr v-for="kRow in kMatrix"> <td>{{ kRow.lump }}</td> <td v-for="k in kRow.ks"> <input v-model=k.value v-bind:disabled=k.isDisabled number> </td> </tr> </tbody> </table> '},function(e,t,o){e.exports=' <header _v-14cfa1c4=""> <img src='+o(41)+' alt=ecust_logo _v-14cfa1c4=""> <h1 _v-14cfa1c4="">{{ title }}</h1> <nav-tabs :tabs=tabs _v-14cfa1c4=""></nav-tabs> </header> '},function(e,t){e.exports=' <table _v-1f90e212=""> <caption _v-1f90e212="">{{ caption }}</caption> <tbody _v-1f90e212=""><tr v-for="factor in factors" _v-1f90e212=""> <td _v-1f90e212="">{{ factor.name }}</td> <td _v-1f90e212=""><input type=text v-model=factor.value number="" _v-1f90e212=""></td> </tr> </tbody></table> '},function(e,t){e.exports=' <footer _v-573469a8=""> <p _v-573469a8="">华东理工化工学院<span _v-573469a8="">注:请使用非IE浏览器(Chrome最佳)</span></p> </footer> '},function(e,t){e.exports=' <nav _v-70285f25=""> <ul _v-70285f25=""> <li v-for="tab in tabs" @click=changeTab(tab) :class={active:tab.isActive} _v-70285f25=""> {{ tab.name }} </li> </ul> </nav> '},function(e,t){e.exports=' <div class=lm-content-wrap _v-a531b9cc=""> <h2 _v-a531b9cc="">{{ caption }}</h2> <textarea cols=60 rows=10 readonly="" _v-a531b9cc="">{{ data || \'\' }}</textarea> </div> '},function(e,t){e.exports=' <div class=init-conditions _v-c1e9a72c=""> <div class=feed-operation-group _v-c1e9a72c=""> <h4 @click=hidden() _v-c1e9a72c=""> 拟合组数：第 {{ index + 1 }} 组 <span class=circle _v-c1e9a72c=""></span> </h4> <l-m-factors-table v-show=isShow :caption=feedCaption :factors=initCondition.feed _v-c1e9a72c=""> </l-m-factors-table> <l-m-factors-table v-show=isShow :caption=operationalCaption :factors=initCondition.operational _v-c1e9a72c=""> </l-m-factors-table> </div> <l-m-factors-table v-show=isShow :caption=actualCaption :factors=initCondition.product _v-c1e9a72c=""> </l-m-factors-table> </div> '},function(e,t){e.exports=' <aside :class={hidden:isHiddenAside} _v-ed7fff92=""> <h4 _v-ed7fff92="">数学模型拟合配置</h4> <div class=setting-content _v-ed7fff92=""> <div _v-ed7fff92=""> <label class=control-label _v-ed7fff92="">一、拟合方式</label> <label _v-ed7fff92=""><input type=radio name=method value=K v-model=setting.fittingMethod checked="" _v-ed7fff92="">反应常数</label> <label _v-ed7fff92=""><input type=radio name=method value=A&amp;E v-model=setting.fittingMethod _v-ed7fff92="">活化能和指前因子</label> </div> <div _v-ed7fff92=""> <label class=control-label _v-ed7fff92="">二、拟合组数</label> <button @click=setting.add() _v-ed7fff92="">+</button> <input type=text v-model=setting.fittingNumber number="" _v-ed7fff92=""> <button @click=setting.sub() _v-ed7fff92="">-</button> </div> </div> <span class=switch @click=changeAsideStatus() _v-ed7fff92=""> <span class=arrow _v-ed7fff92=""></span> </span> </aside> '},function(e,t,o){var n,a;o(31),n=o(8),a=o(42),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var n,a;n=o(9),a=o(43),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var n,a;o(36),n=o(10),a=o(49),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var n,a;o(33),n=o(11),a=o(46),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var n,a;n=o(12),a=o(44),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var n,a;o(35),n=o(13),a=o(48),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var n,a;o(38),n=o(14),a=o(51),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var n,a;o(34),a=o(47),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var n,a;o(32),n=o(15),a=o(45),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var n,a;o(37),n=o(16),a=o(50),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},,function(e,t,o){e.exports=function(){return new Worker(o.p+"753d4aa7084453c94f7c.worker.js")}}]);
//# sourceMappingURL=app.953aca156b90b9809591.js.map